{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container container-wide mt-5" data-active-form="{{ active_form|default:'' }}">
  <!-- Hero -->
  <section class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title mb-2">A happy home for your child's art</h1>
      <p class="hero-subtitle mb-4">No more fridge avalanches. No more mystery piles. Every doodle gets a sweet spot in the hive.</p>
      {% if user.is_authenticated %}
        <a href="{% url 'dashboard' %}" class="btn btn-honey-dark fw-bold">Hive Control</a>
      {% else %}
        <div class="d-flex flex-wrap justify-content-center gap-2">
          <button class="btn btn-primary" data-form="login" aria-label="Login">Login</button>
          <button class="btn btn-secondary" data-form="register" aria-label="Register">Register</button>
        </div>
      {% endif %}
    </div>
  </section>

  <!-- Honeycomb explainer -->
  <section class="trust-card p-3 p-md-4 mb-4">
    <h2 class="h5 text-center mb-2">Build a honeycomb with your child's artwork</h2>
    <ul class="mb-0 list-unstyled text-center">
      <li>Build the hive, one hex at a time,</li>
        <li>Upload each doodle, let's see it shine!</li>
      <li>Kids love watching their art come alive,</li>
      <li>A honey filled home where memories thrive..</li>
    </ul>
    <div class="text-center mt-3">
    </div>
  </section>

  <!-- How it works -->
  <section class="mb-5">
    <h2 class="h4 text-center mb-3">How it works</h2>
    <div class="row g-3 text-center">
      <div class="col-6 col-md-3">
        <div class="step-card p-3 h-100">
          <div class="step-number" aria-hidden="true">1</div>
          <p class="mb-0">Register</p>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="step-card p-3 h-100">
          <div class="step-number" aria-hidden="true">2</div>
          <p class="mb-0">Add a child</p>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="step-card p-3 h-100">
          <div class="step-number" aria-hidden="true">3</div>
          <p class="mb-0">Upload artwork</p>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="step-card p-3 h-100">
          <div class="step-number" aria-hidden="true">4</div>
          <p class="mb-0">Enjoy the gallery</p>
        </div>
      </div>
    </div>
  </section>

  

  <!-- Parent perks -->
  <section class="trust-card p-3 p-md-4 mb-4">
    <h2 class="h5 mb-2 text-center">Beekeeper perks</h2>
    <div class="beekeeper-card mx-auto my-3 p-3 p-md-4" style="max-width: 480px;">
    <ul class="mb-0 list-unstyled text-center">
      <li>üñºÔ∏è Beautiful Galleries. Upload artwork and enjoy a child friendly, bee themed gallery.</li>
      <li>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Profiles for Each Artist. Create profiles for each child or learner, keeping creations neatly organized.</li>
      <li>üîí Private & Secure. Only you can view the gallery; images are safely stored in the cloud.</li>
      <li>üóëÔ∏è Bin the mess guilt free, not the Masterpiece. Keep every creation without the clutter.</li>
      <li>üß≤ Fridge-Free Fun. Your fridge can retire from gallery duty (no more magnet Tetris).</li>
      <li>üì¶ Snap & Store. Quick photos, lasting memories, zero piles.</li>
      <li>üì± Works Anywhere. Fully responsive design for all devices.</li>
    </ul>
    </div>
  </section>

  

  <!-- Auth forms -->
  {% if not user.is_authenticated %}
  <section aria-label="Authentication forms">
    <div id="auth-buttons" class="d-flex gap-2 mb-4">
      <button class="btn btn-primary" data-form="login">Login</button>
      <button class="btn btn-secondary" data-form="register">Register</button>
    </div>
    <div id="login-form" class="d-none">
      <h3>Login</h3>
      {% if login_error %}
        <div class="alert alert-danger">{{ login_error }}</div>
      {% endif %}
      <form method="post" action="">
        {% csrf_token %}
        <input type="hidden" name="login" value="1">
        {{ form.non_field_errors }}
        {% for field in form %}
          <div class="mb-3 row align-items-center">
            <label for="{{ field.id_for_label }}" class="form-label col-sm-4 col-form-label">{{ field.label }}</label>
            <div class="col-sm-8">
              {{ field }}
              {% for error in field.errors %}
                <div class="text-danger">{{ error }}</div>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary">Login</button>
      </form>
    </div>
    <div id="register-form" class="d-none">
      <h3>Register</h3>
      {% if signup_error %}
        <div class="alert alert-danger">{{ signup_error }}</div>
      {% endif %}
      <form method="post" action="">
        {% csrf_token %}
        <input type="hidden" name="register" value="1">
        {% for field in signup_form %}
          <div class="mb-3 row align-items-center">
            <label for="{{ field.id_for_label }}" class="form-label col-sm-4 col-form-label">{{ field.label }}</label>
            <div class="col-sm-8">
              {{ field }}
              {% for error in field.errors %}
                <div class="text-danger">{{ error }}</div>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
        <button type="submit" class="btn btn-secondary">Register</button>
      </form>
    </div>
  </section>
  {% endif %}
{% endblock %}
